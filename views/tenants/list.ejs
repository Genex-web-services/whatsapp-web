<%- include('../partials/head') %>
<!-- DataTable CSS -->
<link href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css" rel="stylesheet">
<!-- DataTable JS -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

<%- include('../partials/sidebar') %>
<main class="dashboard-main bg-gray-100">
  <%- include('../partials/navbar') %>
  <div class="dashboard-main-body bg-gray-100 dark:bg-neutral-800 min-h-screen">
    <div class="grid grid-cols-12">
      <div class="col-span-12">
        <div class="card h-full p-0 rounded-xl border-0 overflow-hidden">
          <div class="card-header border-b border-neutral-200 dark:border-neutral-600 bg-white dark:bg-neutral-700 py-4 px-6 flex flex-wrap gap-3 justify-content-end">
            
            <a href="/tenants/add" class="btn btn-primary text-sm btn-sm px-3 py-3 rounded-lg flex gap-2">
              <iconify-icon icon="ic:baseline-plus" class="icon text-xl line-height-1"></iconify-icon>
              Add New Tenant
            </a>
          </div>
          <div class="card-body p-6">
            <div class="table-responsive scroll-sm">
            <table id="tenantTable" class="table bordered-table sm-table mb-0">
  <thead>
    <tr>
      <th>S.L</th>
      <th>Name</th>
      <th>Type</th>
      <th>Product Access</th>
      <th>Status</th>
      <th>Created At</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% tenants.forEach((tenant, index) => { %>
      <tr>
        <td><%= index + 1 %></td>
        <td><%= tenant.name %></td>
        <td class="text-capitalize"><%= tenant.type %></td>
        <td>
          <% if (tenant.productAccess && tenant.productAccess.length > 0) { %>
            <ul style="padding-left: 15px; margin:0;">
              <% tenant.productAccess.forEach(access => { %>
                <li><%= access %></li>
              <% }) %>
            </ul>
          <% } else { %>
            None
          <% } %>
        </td>
        <td>
          <span class="bg-<%= tenant.isActive ? 'success' : 'neutral' %>-100 dark:bg-<%= tenant.isActive ? 'success' : 'neutral' %>-600/25 text-<%= tenant.isActive ? 'success' : 'neutral' %>-600 dark:text-<%= tenant.isActive ? 'success' : 'neutral' %>-400 px-3 py-1 rounded font-medium text-sm">
            <%= tenant.isActive ? 'Active' : 'Inactive' %>
          </span>
        </td>
        <td><%= new Date(tenant.createdAt).toLocaleDateString() %></td>
        <td class="text-center">
          <button class="bg-info-100 dark:bg-info-600/25 hover:bg-info-200 text-info-600 dark:text-info-400 w-10 h-10 rounded-full">V</button>
          <button class="bg-success-100 dark:bg-success-600/25 text-success-600 dark:text-success-400 w-10 h-10 rounded-full">E</button>
          <button class="bg-danger-100 dark:bg-danger-600/25 hover:bg-danger-200 text-danger-600 dark:text-danger-500 w-10 h-10 rounded-full">D</button>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>



            </div>
            <div class="flex items-center justify-between flex-wrap gap-2 mt-6">
              <span>Showing <%= tenants.length %> entries</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <%- include('../partials/footer') %>
  <%- include('../partials/script') %>
</main>


